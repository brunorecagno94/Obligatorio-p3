@using WebClient.Models.DTOs.Envio
@model EnvioListadoDTO

<h1>Envíos</h1>

<div class="d-flex justify-content-between align-items-center mb-3">
    <form action="/Envio/BuscarPorTracking" class="d-flex gap-2 align-items-center">
        <input type="text" name="numeroTracking" class="form-control form-control-sm" placeholder="Número de tracking" />
        <button type="submit" class="btn btn-primary btn-sm">Buscar</button>
    </form>
</div>
<div class="d-flex justify-content-between align-items-center mb-3">
    @Html.ActionLink("Ver mis envíos", "GetByUsuario", new { id = ViewBag.IdUsuario })
</div>


@if (Model == null)
{
    @if (ViewBag.Mensaje != null)
    {
        <div class="alert alert-danger mt-3" role="alert">
            @ViewBag.Mensaje
        </div>
    }
}
else
{
    <table class="table">
        <thead>
            <tr>
                <th>
                    Número de tracking
                </th>
                <th>
                    Tipo de envío
                </th>
                <th>
                    Fecha de salida
                </th>
                <th>
                    Estado
                </th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    @Model.NumeroTracking
                </td>
                <td>@(Model.EsUrgente ? "Urgente" : "Común")</td>
                <td>
                    @Model.FechaSalida
                </td>
                <td>
                    @(Model.Estado == "EN_PROCESO" ? "En proceso" : "Finalizado")
                </td>
            </tr>
        </tbody>
    </table>
}